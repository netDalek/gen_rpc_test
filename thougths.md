(test@geo-app7)2> gen_rpc:call('test@10.236.26.75', erlang, node, []).
test@app29


thoughts
-----

Примерная архитектура решения:

* в конфиге определяется proplist каждый элемент которой является описанием instance_bringe
* Каждая нода из такого конфго берет только те записи где первый элемент равен имени ноды
* Все instance_bridge запускаются под своим супервайзером
* Каждый instance_bridge асинхронно подключается по gen_rpc к ноде указанной во втором елементу tuple
* После подключения он запрашивает у этой ноды имя инстанса, т.о. выясняя к какому инстансу он в итоге подключился. После этого он регистрируется в двух pg2 группах. Первая группа это группа все успешно подключенных instance_bridge. Вторая группа это группа конкретно для инстанса название которого получили на предыдущем шаге

Упрощенный вариант
В когфиге указываем: имя ноды где запускать и куда подключаться. Запускаем один сервер. Но все равно нужно обрабатывать его падения и что делать если он не может подключиться


По роутинка

самый простой вариант: если нет сессиий на текущем инстансе, то пытаемся направить во все зарегистрированные instance_bridge по очереди
